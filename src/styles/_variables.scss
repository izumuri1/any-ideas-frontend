// src/styles/_variables.scss
// Any Ideas? プロジェクトのスタイル変数とmixinを定義
// 統一された命名規約を使用（app- プレフィックス）
// スマホ特化版

//////////////////////////////////////////////////////////////
/// カラーパレット
//////////////////////////////////////////////////////////////

// メインカラー
$app-bg-color:            #F4C14E; // メインイエロー（背景色）
$app-text-color:          #000000; // 黒色テキスト
$app-btn-primary:         #000000; // プライマリボタン（黒）
$app-btn-secondary:       #828282; // セカンダリボタン（グレー）

// サブカラー
$app-white:               #FFFFFF; // 白色
$app-gray-light:          #e5e7eb; // ライトグレー
$app-gray-medium:         #6b7280; // ミディアムグレー
$app-gray-dark:           #828282; // ダークグレー（入力テキスト等）

// ステータスカラー
$app-error-bg:            #fef2f2; // エラー背景
$app-error-color:         #dc2626; // エラーテキスト
$app-error-border:        #fecaca; // エラー枠線
$app-disabled-bg:         #f9fafb; // 無効状態背景

//////////////////////////////////////////////////////////////
/// フォント設定（スマホ最適化）
//////////////////////////////////////////////////////////////

// フォントファミリー
$app-font-theme:          'Montserrat', sans-serif; // タイトル用フォント
$app-font-body:           'Noto Sans JP', sans-serif; // 本文用フォント

// フォントサイズ (スマホ用に調整済み・rem単位で統一)
$app-font-logo:           1.75rem;  // ロゴ (28px) - スマホ用にサイズダウン
$app-font-title:          1.25rem;  // タイトル (20px) - スマホ用にサイズダウン
$app-font-subtitle:       1rem;     // サブタイトル (16px) - ズーム防止
$app-font-body:           0.875rem; // 本文 (14px)
$app-font-button:         1rem;     // ボタン (16px) - ズーム防止

// フォントウェイト
$app-weight-normal:       400;
$app-weight-medium:       500;
$app-weight-bold:         700;
$app-weight-black:        900;

//////////////////////////////////////////////////////////////
/// レイアウト設定（スマホ特化）
//////////////////////////////////////////////////////////////

// スペーシング（スマホ専用）
$app-padding-mobile:      1rem;  // 基本パディング
$app-padding-small:       0.5rem; // 小さなパディング
$app-padding-large:       1.5rem; // 大きなパディング

// カードサイズ（スマホ用に最適化）
$app-card-padding:        1rem;   // カード内パディング
$app-form-max-width:      100%;   // フォーム最大幅（画面幅を活用）

// 角丸（タッチしやすいサイズに調整）
$app-radius-card:         12px;
$app-radius-input:        8px;    // タッチしやすく
$app-radius-button:       8px;    // タッチしやすく
$app-radius-error:        8px;

// シャドウ（スマホ用に軽量化）
$app-shadow-card:         0 1px 4px rgba(0, 0, 0, 0.1);
$app-shadow-header:       0 1px 3px rgba(0, 0, 0, 0.1);

// タッチ対応サイズ
$app-touch-target-min:    44px;   // 最小タッチ領域（Apple推奨）
$app-button-height:       48px;   // ボタン高さ

//////////////////////////////////////////////////////////////
/// mixinライブラリ（スマホ特化）
//////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////
// ◆ テキストスタイル
//////////////////////////////////////////////////////////////

@mixin app-logo-style {
  font-family: $app-font-theme;     // タイトル用フォント
  font-size: $app-font-logo;        // ロゴ (28px)
  font-weight: $app-weight-bold;    
  color: $app-text-color;           // 黒色テキスト
  line-height: 1.2;                 // タイトル用行間
}

@mixin app-title-style {
  font-family: $app-font-theme;     // タイトル用フォント
  font-size: $app-font-title;       // タイトル (20px)
  font-weight: $app-weight-bold;
  color: $app-text-color;           // 黒色テキスト
  line-height: 1.3;                 // 読みやすい行間
}

@mixin app-subtitle-style {
  font-family: $app-font-theme;     // タイトル用フォント
  font-size: $app-font-subtitle;    // サブタイトル (16px)
  font-weight: $app-weight-bold;
  color: $app-text-color;           // 黒色テキスト
  line-height: 1.4;                 // 読みやすい行間
}

@mixin app-section-title {
  margin-bottom: 1rem;
  text-align: center;
  @include app-title-style;
}

@mixin app-text-style {
  font-family: $app-font-body;      // 本文用フォント
  font-size: $app-font-body;        // 本文 (14px)
  color: $app-text-color;           // 黒色テキスト
  line-height: 1.6;                 // 読みやすい行間
}

@mixin app-error-message {
  background-color: $app-error-bg;  // エラー背景
  color: $app-error-color;          // エラーテキスト
  border: 1px solid $app-error-border; // エラー枠線
  border-radius: $app-radius-error;     // 角丸
  padding: $app-padding-mobile;
  font-size: $app-font-body;        // 本文 (14px)
  text-align: left;
  line-height: 1.5;
}

//////////////////////////////////////////////////////////////
// ◆ ボタンスタイル（スマホ用タッチ対応）
//////////////////////////////////////////////////////////////

@mixin app-button-base {
  border: none;
  border-radius: $app-radius-button;
  cursor: pointer;
  padding: 0.75rem 1rem;
  min-height: $app-touch-target-min; // 最小タッチ領域確保
  transition: all 0.2s ease;
  font-family: $app-font-body;
  font-size: $app-font-button;       // ズーム防止のため16px
  font-weight: $app-weight-medium;
  
  // タッチ対応
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  
  &:active {
    transform: scale(0.98); // タッチフィードバック
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.6;
    transform: none;
  }
}

@mixin app-button-primary {
  color: $app-white;
  background-color: $app-btn-primary;
  width: 100%;
  @include app-button-base;
  
  &:hover:not(:disabled) {
    opacity: 0.9;
  }
}

@mixin app-button-secondary {
  color: $app-text-color;
  background-color: $app-btn-secondary;
  @include app-button-base;
  
  &:hover:not(:disabled) {
    opacity: 0.8;
  }
}

@mixin app-button-like {
  font-family: $app-font-body;
  font-size: $app-font-body;
  font-weight: $app-weight-medium;
  color: $app-text-color;
  min-height: $app-touch-target-min; // タッチ領域確保
  padding: 0.5rem;
}

//////////////////////////////////////////////////////////////
// ◆ レイアウト（スマホ特化）
//////////////////////////////////////////////////////////////

@mixin app-fullscreen-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: $app-bg-color;
  display: grid;
  place-items: center;
  padding: $app-padding-mobile;
  
  // セーフエリア対応
  padding-top: max($app-padding-mobile, env(safe-area-inset-top));
  padding-bottom: max($app-padding-mobile, env(safe-area-inset-bottom));
}

@mixin app-card-style($background: $app-white) {
  background: $background;
  border-radius: $app-radius-card;
  box-shadow: $app-shadow-card;
  padding: $app-card-padding;
  
  // スマホ用の最適化
  width: 100%;
  margin: 0 auto;
}

@mixin app-large-card-style($background: $app-bg-color) {
  padding: $app-padding-large;
  width: 100%;
  text-align: center;
  
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  justify-content: center;
  @include app-card-style($background);
}

//////////////////////////////////////////////////////////////
// ◆ フォーム（スマホ最適化）
//////////////////////////////////////////////////////////////

@mixin app-input-field-style {
  width: 100%;
  padding: $app-padding-mobile;
  border: 2px solid $app-gray-light;
  border-radius: $app-radius-input;
  font-size: $app-font-button;      // ズーム防止のため16px
  font-family: $app-font-body;
  min-height: $app-touch-target-min; // タッチ領域確保
  transition: border-color 0.2s ease;
  
  // iOS用の最適化
  -webkit-appearance: none;
  
  &:focus {
    outline: none;
    border-color: $app-btn-primary;
    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1); // フォーカス表示
  }

  &:disabled {
    background-color: $app-disabled-bg;
    color: $app-gray-medium;
    cursor: not-allowed;
  }

  &::placeholder {
    color: $app-gray-dark;
  }
}

@mixin app-form-group-style {
  text-align: left;
  margin-bottom: 1rem;

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: $app-font-subtitle; // ズーム防止
    @include app-text-style;
  }

  input, textarea {
    @include app-input-field-style;
  }

  .field-error {
    display: block;
    color: $app-error-color;
    font-size: $app-font-body;
    margin-top: 0.5rem;
    line-height: 1.4;
  }
}

//////////////////////////////////////////////////////////////
// ◆ ページレイアウト（スマホ用）
//////////////////////////////////////////////////////////////

@mixin app-page-header {
  background: $app-white;
  padding: $app-padding-mobile;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: $app-shadow-header;
  min-height: 60px; // 最小高さを確保
  
  // セーフエリア対応
  padding-top: max($app-padding-mobile, env(safe-area-inset-top));
}

@mixin app-main-content {
  flex: 1;
  padding: $app-padding-mobile;
  width: 100%;
  
  // セーフエリア対応
  padding-bottom: max($app-padding-mobile, env(safe-area-inset-bottom));
}

@mixin app-mobile-grid($gap: 1rem) {
  display: grid;
  grid-template-columns: 1fr; // 常に1列
  gap: $gap;
  width: 100%;
}

@mixin app-mobile-flex($gap: 1rem, $direction: column) {
  display: flex;
  gap: $gap;
  flex-direction: $direction;
  width: 100%;
  align-items: stretch;
}